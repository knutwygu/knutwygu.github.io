<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projects | Knut W.Y.Gu</title>

    <link rel="icon" type="image/png" href="images/favicon.png">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    
    </head>
<body>

    <img src="images/robot-mobile.png" class="bg-robot-img mobile-top" alt="Mobile Robot">
    <img src="images/robot-blueprint.png" class="bg-robot-img desktop-left" alt="Blueprint">
    <img src="images/robot-fix.png" class="bg-robot-img desktop-right" alt="Repair">
    
    <div class="container">
        
        <h1>SIGNAL PROCESSING</h1>
        <div class="subtitle" style="margin-bottom: 40px;">
            Archive: <span class="highlight">ENGINEERING_LOGS</span>
        </div>

        <div class="content-block">
            <div class="content-header">
                [ <span class="highlight">MISSION_STATEMENT</span> ]
            </div>
            <ul class="tech-list">
                <li>
                    <strong>Objective</strong> // Bridge the gap between Circuit Theory and Embedded Systems.
                </li>
                <li>
                    <strong>Focus</strong> // Analog Signal Conditioning & Real-time DSP.
                </li>
            </ul>
        </div>

        <div class="content-block">
            <div class="content-header">
                [ <span class="highlight">DEPLOYED_UNITS</span> ]
            </div>
            
            <p style="color: #888; margin-bottom: 15px; font-size: 0.9rem;">
                Select unit to expand schematics:
            </p>

            <details>
                <summary>
                    PROJECT_00 // Music Reactive LED System
                </summary>
                
                <div class="detail-content">
                    
                    <div class="carousel-container">
                        <button class="carousel-btn prev" onclick="scrollCarousel(-1)">&lt;</button>
                                                    
                        <div class="carousel-track" id="project00-carousel">
                            <img src="images/Project00_1.jpeg" alt="Project Image 1" class="carousel-slide">
                            <img src="images/Mode_0.PNG" alt="Project Image 2" class="carousel-slide">
                            <img src="images/Mode_1.PNG" alt="Project Image 3" class="carousel-slide">
                            <img src="images/Mode_2.PNG" alt="Project Image 4" class="carousel-slide">
                            </div>
                                                    
                        <button class="carousel-btn next" onclick="scrollCarousel(1)">&gt;</button>
                    </div>

                    <p style="margin-bottom: 10px; color: #fff; text-decoration: underline decoration-dotted #444;">
                        [ SYSTEM_ARCHITECTURE ]
                    </p>
                    
                    <ul class="tech-list">
                        <li>
                            <strong>Core Concept</strong> // Hybrid Analog-Digital Processing.
                        </li>
                        <li>
                            <strong>Analog Front-End</strong> // Custom LM358 Op-Amp Pre-amplifier.
                        </li>
                        <li>
                            <strong>Signal Chain</strong> // Electret Mic -> Active Crossover -> ADC -> FFT -> WS2812B.
                        </li>
                        <li>
                            <strong>Performance</strong> // &lt; 10ms Latency with Transient Analysis.
                        </li>
                    </ul>

                    <p style="margin-bottom: 10px; margin-top: 20px; color: #fff; text-decoration: underline decoration-dotted #444;">
                        [ EXECUTION_LOG ]
                    </p>

                    <ul class="tech-list">
                        <li>
                            <strong>Phase 1</strong> // Analog Filter Design & Simulation (LTSpice).
                        </li>
                        <li>
                            <strong>Phase 2</strong> // Breadboard Prototyping & DSP Firmware.
                        </li>
                        <li>
                            <strong>Phase 3</strong> // Perfboard Fabrication & Enclosure Assembly.
                        </li>
                    </ul>

                    <div style="margin-top: 25px; text-align: center;">
                        <a href="docs/Proposal_0.pdf" class="proposal-btn" target="_blank">
                            PROJ PROPOSAL_0 :: PDF
                        </a>
                    </div>
                </div>
            </details>

            <!-- <details>
                <summary>
                    PROJECT_01 // [ PENDING ]
                </summary>
                <div class="detail-content">
                    <ul class="tech-list">
                        <li>
                            <strong>Status</strong> // Research & Development.
                        </li>
                        <li>
                            <strong>ETA</strong> // Pending Compilation...
                        </li>
                    </ul>
                </div>
            </details> -->

            </div>

        <div class="return-container">
            <a href="index.html" class="btn">
                &lt; RETURN TO MAIN
            </a>
        </div>

    </div>

    <script>
      const track = document.getElementById('project00-carousel');
    
      let slideWidth = 0;
      let realCount = 0;       // 真正图片数量（不含 clone）
      let busy = false;
    
      function measure() {
        slideWidth = track.clientWidth; // 你现在是一屏一张的布局，这样算 OK
      }
    
      function setupInfiniteCarousel() {
        // 防止重复初始化
        if (track.dataset.infinite === "1") return;
        track.dataset.infinite = "1";
    
        const slides = Array.from(track.children);
        realCount = slides.length;
        if (realCount <= 1) return;
    
        // 1) 克隆首尾
        const firstClone = slides[0].cloneNode(true);
        const lastClone  = slides[realCount - 1].cloneNode(true);
    
        firstClone.dataset.clone = "first";
        lastClone.dataset.clone = "last";
    
        track.appendChild(firstClone);            // 最后追加一个“第一张clone”
        track.insertBefore(lastClone, slides[0]); // 最前插入一个“最后一张clone”
    
        // 2) 初始位置：跳到“真正的第一张”（因为最前面多了 lastClone）
        measure();
        track.scrollLeft = slideWidth;
    
        // 3) 监听滚动结束：当滑到 clone 时，瞬间无动画校正回真图
        track.addEventListener('scroll', onScroll, { passive: true });
    
        // 4) 处理窗口尺寸变化
        window.addEventListener('resize', () => {
          const currentIndex = getIndex();
          measure();
          // resize 后重新对齐到当前 index
          jumpToIndex(currentIndex);
        });
      }
    
      let scrollEndTimer = null;
      function onScroll() {
        // 用一个很轻量的“滚动停止检测”
        if (scrollEndTimer) clearTimeout(scrollEndTimer);
        scrollEndTimer = setTimeout(() => {
          // 总长度 = realCount + 2（加了两张 clone）
          const total = realCount + 2;
          const maxIndex = total - 1;
    
          const index = Math.round(track.scrollLeft / slideWidth);
    
          // index=0 代表在最前面的 lastClone
          if (index === 0) {
            // 瞬间跳到“真正的最后一张”
            track.style.scrollBehavior = 'auto';
            track.scrollLeft = realCount * slideWidth;
            track.offsetHeight; // 强制 reflow，确保行为生效
            track.style.scrollBehavior = 'smooth';
          }
    
          // index=maxIndex 代表在最后的 firstClone
          if (index === maxIndex) {
            // 瞬间跳到“真正的第一张”
            track.style.scrollBehavior = 'auto';
            track.scrollLeft = 1 * slideWidth;
            track.offsetHeight;
            track.style.scrollBehavior = 'smooth';
          }
    
          busy = false;
        }, 120);
      }
    
      // 把“当前停留在第几张真图”映射出来：1..realCount
      function getIndex() {
        const raw = Math.round(track.scrollLeft / slideWidth); // 0..realCount+1
        // raw=1 => 真第一张；raw=realCount => 真最后一张
        // raw=0/realCount+1 是 clone
        if (raw <= 0) return realCount;
        if (raw >= realCount + 1) return 1;
        return raw;
      }
    
      function jumpToIndex(idx) {
        // idx 是 1..realCount（真图 index）
        track.style.scrollBehavior = 'auto';
        track.scrollLeft = idx * slideWidth;
        track.offsetHeight;
        track.style.scrollBehavior = 'smooth';
      }
    
      function scrollCarousel(direction) {
        if (busy) return;
        busy = true;
    
        measure();
        const rawIndex = Math.round(track.scrollLeft / slideWidth);
        const targetRawIndex = rawIndex + direction;
    
        track.scrollTo({
          left: targetRawIndex * slideWidth,
          behavior: 'smooth'
        });
      }
    
      // 初始化
      setupInfiniteCarousel();
    </script>
</body>
</html>

            

